{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tbody = document.querySelector('table tbody');\nconst wrapperForm = document.createElement('div');\n\nwrapperForm.style.cssText = `display: flex; flex-direction: column; row-gap: 20px; position: relative`;\n\n// --------------------SORTING OF TABLE\ntable.addEventListener('click', (e) => {\n  const target = e.target.closest('thead th');\n\n  if (!target) {\n    return;\n  }\n\n  setAttr(target);\n\n  sort(target);\n});\n\n// CHANGE STYLES FOR CURRENT ROW\ntable.addEventListener('click', (e) => {\n  const target = e.target.closest('tbody tr');\n\n  if (!target) {\n    return;\n  }\n\n  [...tbody.rows].forEach((el) => {\n    el.classList.remove('active');\n  });\n\n  target.classList.add('active');\n});\n\n// ---------------------ATTRIBUTE SETTING TO CONTROL SORTING\nfunction setAttr(elem) {\n  let currentAttr = null;\n\n  if (!elem.hasAttribute('data-sort')) {\n    currentAttr = 'asc';\n  } else {\n    currentAttr = elem.dataset.sort === 'asc' ? 'desc' : 'asc';\n  }\n\n  const thead = [...table.rows[0].cells];\n\n  thead.forEach((el) => {\n    el.removeAttribute('data-sort');\n  });\n\n  elem.setAttribute('data-sort', currentAttr);\n}\n\n//  -------------------------SORTING ELEMENTS\nfunction sort(elem) {\n  // WE FIND THE COLUMN INDEX NUMBER\n  const thead = [...table.rows[0].cells];\n  const currentPos = thead.indexOf(elem);\n\n  const tableBody = [...table.rows].slice(1, -1).sort((a, b) => {\n    let firstValue = a.cells[currentPos].innerHTML;\n    let secondValue = b.cells[currentPos].innerHTML;\n\n    // WE CHECK WHETHER THESE ARE NUMBERS\n    if (!isNaN(parseFloat(firstValue)) || firstValue.includes('$')) {\n      if (firstValue.includes('$')) {\n        firstValue = firstValue.slice(1).replace(',', '.');\n        secondValue = secondValue.slice(1).replace(',', '.');\n      }\n\n      return +firstValue - +secondValue;\n    }\n\n    return firstValue > secondValue ? 1 : -1;\n  });\n\n  if (elem.dataset.sort === 'desc') {\n    table.tBodies[0].append(...tableBody.reverse());\n  } else {\n    table.tBodies[0].append(...tableBody);\n  }\n}\n\nfunction createNewForm() {\n  const formEmployee = document.createElement('form');\n  const button = document.createElement('button');\n\n  button.setAttribute('type', 'submit');\n  button.textContent = 'Save to table';\n\n  formEmployee.classList.add('new-employee-form');\n  formEmployee.append(createInput('name', 'text', 'input'));\n  formEmployee.append(createInput('position', 'text', 'input'));\n\n  formEmployee.append(\n    createInput('office', '', 'select', [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ]),\n  );\n  formEmployee.append(createInput('age', 'number', 'input'));\n  formEmployee.append(createInput('salary', 'number', 'input'));\n  formEmployee.append(button);\n  wrapperForm.append(formEmployee);\n  wrapperForm.style.alignSelf = 'flex-start';\n  document.body.append(wrapperForm);\n}\n\ncreateNewForm();\n\nfunction createInput(value, type, typeInput, array = null) {\n  const label = document.createElement('label');\n  const input = document.createElement(typeInput);\n\n  input.setAttribute('name', value);\n  input.setAttribute('required', '');\n  input.setAttribute('data-qa', value);\n\n  if (typeInput === 'select') {\n    array.forEach((elem) => {\n      const option = document.createElement('option');\n\n      option.setAttribute('value', elem);\n      option.textContent = elem;\n      input.append(option);\n    });\n  }\n\n  label.textContent = `${value[0].toUpperCase()}${value.slice(1)}:`;\n\n  label.append(input);\n\n  input.setAttribute('type', type);\n\n  return label;\n}\n\nconst form = document.querySelector('form');\nconst fullName = form.querySelector('[data-qa=\"name\"');\nconst position = form.querySelector('[data-qa=\"position\"');\nconst office = form.querySelector('[data-qa=\"office\"');\nconst age = form.querySelector('[data-qa=\"age\"');\nconst salary = form.querySelector('[data-qa=\"salary\"');\n\n// ADD NEW EMPLOYEE IN THE TABLE\nform.addEventListener('submit', addNewEmployeeInTable);\n\nfunction addNewEmployeeInTable(e) {\n  e.preventDefault();\n\n  if (!checkValidate()) {\n    return;\n  }\n\n  const newRow = document.createElement('tr');\n\n  const salaryChange = `$${salary.value},000`;\n\n  const listInfo = [\n    fullName.value,\n    position.value,\n    office.value,\n    age.value,\n    salaryChange,\n  ];\n\n  listInfo.forEach((elem) => {\n    const newCol = document.createElement('td');\n\n    newCol.textContent = elem;\n    newRow.append(newCol);\n  });\n\n  tbody.append(newRow);\n\n  pushNotification(\n    'Success',\n    'The employee has been successfully added to the database.',\n    ['notification', 'success'],\n  );\n\n  form.reset();\n}\n\nfunction checkValidate() {\n  if (fullName.value.length < 4) {\n    pushNotification(\n      'Error of name',\n      'The value of \"Name\" must be at least 4 letters.',\n      ['notification', 'error'],\n    );\n\n    return false;\n  }\n\n  if (age.value < 18 || age.value > 90) {\n    pushNotification(\n      'Error of age',\n      'Unfortunately, there is an age restriction.',\n      ['notification', 'error'],\n    );\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction pushNotification(title, description, arrayClasses) {\n  const message = document.createElement('div');\n  const titleMessage = document.createElement('h2');\n  const textMessage = document.createElement('p');\n\n  arrayClasses.forEach((el) => {\n    message.classList.add(el);\n  });\n\n  message.setAttribute('data-qa', 'notification');\n  titleMessage.classList.add('title');\n\n  titleMessage.textContent = title;\n  textMessage.textContent = description;\n\n  message.style.cssText = `position: relative; left: 24px; padding: 1px 24px; color: #f5f5f5;`;\n\n  message.append(titleMessage);\n  message.append(textMessage);\n  wrapperForm.append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}